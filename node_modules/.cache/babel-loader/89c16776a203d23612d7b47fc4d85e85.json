{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Valeria Rico\\\\Documents\\\\Alkemy\\\\React II\\\\Proyecto React II\\\\Proyecto Avengers\\\\client\\\\src\\\\components\\\\Invitados\\\\Inicio.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react'; //Styles\n\nimport './app.css'; //Components\n\nimport Listado from './Listado';\nimport Header from './Header';\nimport Footer from './Footer';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Inicio() {\n  _s();\n\n  const [favourites, setFavs] = useState([]);\n  useEffect(() => {\n    const favsInLocal = localStorage.getItem('favs');\n\n    if (favsInLocal !== null) {\n      const favsArray = JSON.parse(favsInLocal);\n      setFavs(favsArray);\n    }\n  }, []);\n\n  const addOrRemovefromFavs = e => {\n    const favCharacters = localStorage.getItem('favs');\n    let tempCharacterInFavs;\n\n    if (favCharacters === null) {\n      tempCharacterInFavs = [];\n    } else {\n      tempCharacterInFavs = JSON.parse(favCharacters);\n    }\n\n    const btn = e.currentTarget;\n    const parentBtn = btn.parentElement;\n    const imgUrl = parentBtn.querySelector('img').getAttribute('src');\n    const userName = parentBtn.querySelector('h5').innerText;\n    const description = parentBtn.querySelector('p').innerText;\n    const characterData = {\n      imgUrl,\n      userName,\n      description,\n      id: btn.dataset.characterId\n    };\n    let characterIsInArray = tempCharacterInFavs.find(oneCharacter => {\n      return oneCharacter.id === characterData.id;\n    });\n\n    if (!characterIsInArray) {\n      tempCharacterInFavs.push(characterData);\n      localStorage.setItem('favs', JSON.stringify(tempCharacterInFavs));\n      setFavs(tempCharacterInFavs);\n      console.log('Se agreg贸 el personaje');\n    } else {\n      let characterLeft = tempCharacterInFavs.filter(oneCharacter => {\n        return oneCharacter.id !== characterData.id;\n      });\n      localStorage.setItem('favs', JSON.stringify(characterLeft));\n      setFavs(characterLeft);\n      console.log('Se elimin贸 el personaje');\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      favourites: favourites\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Listado, {\n      addOrRemovefromFavs: addOrRemovefromFavs\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 6\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Inicio, \"tq4SI8Vh8/3Ue+Ne4ZsO7dH7hcc=\");\n\n_c = Inicio;\nexport default Inicio;\n\nvar _c;\n\n$RefreshReg$(_c, \"Inicio\");","map":{"version":3,"names":["useState","useEffect","Listado","Header","Footer","Inicio","favourites","setFavs","favsInLocal","localStorage","getItem","favsArray","JSON","parse","addOrRemovefromFavs","e","favCharacters","tempCharacterInFavs","btn","currentTarget","parentBtn","parentElement","imgUrl","querySelector","getAttribute","userName","innerText","description","characterData","id","dataset","characterId","characterIsInArray","find","oneCharacter","push","setItem","stringify","console","log","characterLeft","filter"],"sources":["C:/Users/Valeria Rico/Documents/Alkemy/React II/Proyecto React II/Proyecto Avengers/client/src/components/Invitados/Inicio.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\n\r\n\r\n//Styles\r\nimport './app.css'\r\n\r\n//Components\r\nimport Listado from './Listado'\r\nimport Header from './Header'\r\nimport Footer from './Footer'\r\n\r\n\r\nfunction Inicio() {\r\n\r\n  const [favourites, setFavs]= useState([]);\r\n\r\n  useEffect(()=>{\r\n\r\n    const favsInLocal= localStorage.getItem('favs')\r\n     \r\n     if(favsInLocal!== null){\r\n         const favsArray= JSON.parse(favsInLocal);\r\n         setFavs(favsArray)       }\r\n  },[])\r\n\r\n  \r\n  const addOrRemovefromFavs=(e)=>{\r\n\r\n    const favCharacters= localStorage.getItem('favs')\r\n\r\n    let tempCharacterInFavs;\r\n  \r\n    if(favCharacters===null){\r\n      tempCharacterInFavs=[]\r\n  \r\n    } else{\r\n      tempCharacterInFavs= JSON.parse(favCharacters)\r\n    }\r\n  \r\n   \r\n    const btn= e.currentTarget;\r\n    const parentBtn= btn.parentElement;\r\n\r\n    const imgUrl= parentBtn.querySelector('img').getAttribute('src');\r\n    const userName=parentBtn.querySelector('h5').innerText\r\n    const description=parentBtn.querySelector('p').innerText\r\n\r\n    const characterData={\r\n                    imgUrl, userName, description,\r\n                    id:btn.dataset.characterId\r\n                  }\r\n    \r\n    let characterIsInArray= tempCharacterInFavs.find(oneCharacter=>{\r\n      return oneCharacter.id === characterData.id\r\n    });\r\n\r\n    if(!characterIsInArray){\r\n\r\n      tempCharacterInFavs.push(characterData)\r\n      localStorage.setItem('favs', JSON.stringify(tempCharacterInFavs));\r\n      setFavs(tempCharacterInFavs)\r\n      console.log('Se agreg贸 el personaje')\r\n    } else {\r\n      let characterLeft=tempCharacterInFavs.filter(oneCharacter=>{\r\n        return oneCharacter.id !== characterData.id\r\n      });\r\n      localStorage.setItem('favs', JSON.stringify(characterLeft))\r\n      setFavs(characterLeft)\r\n      console.log('Se elimin贸 el personaje')\r\n      }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n  return (\r\n    <>\r\n      <Header \r\n      favourites={favourites}/>\r\n      \r\n     <Listado \r\n          addOrRemovefromFavs={addOrRemovefromFavs}/>\r\n      \r\n        \r\n      <Footer/>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Inicio;\r\n"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC,C,CAGA;;AACA,OAAO,WAAP,C,CAEA;;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,MAAP,MAAmB,UAAnB;;;;AAGA,SAASC,MAAT,GAAkB;EAAA;;EAEhB,MAAM,CAACC,UAAD,EAAaC,OAAb,IAAuBP,QAAQ,CAAC,EAAD,CAArC;EAEAC,SAAS,CAAC,MAAI;IAEZ,MAAMO,WAAW,GAAEC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAnB;;IAEC,IAAGF,WAAW,KAAI,IAAlB,EAAuB;MACnB,MAAMG,SAAS,GAAEC,IAAI,CAACC,KAAL,CAAWL,WAAX,CAAjB;MACAD,OAAO,CAACI,SAAD,CAAP;IAA0B;EAChC,CAPQ,EAOP,EAPO,CAAT;;EAUA,MAAMG,mBAAmB,GAAEC,CAAD,IAAK;IAE7B,MAAMC,aAAa,GAAEP,YAAY,CAACC,OAAb,CAAqB,MAArB,CAArB;IAEA,IAAIO,mBAAJ;;IAEA,IAAGD,aAAa,KAAG,IAAnB,EAAwB;MACtBC,mBAAmB,GAAC,EAApB;IAED,CAHD,MAGM;MACJA,mBAAmB,GAAEL,IAAI,CAACC,KAAL,CAAWG,aAAX,CAArB;IACD;;IAGD,MAAME,GAAG,GAAEH,CAAC,CAACI,aAAb;IACA,MAAMC,SAAS,GAAEF,GAAG,CAACG,aAArB;IAEA,MAAMC,MAAM,GAAEF,SAAS,CAACG,aAAV,CAAwB,KAAxB,EAA+BC,YAA/B,CAA4C,KAA5C,CAAd;IACA,MAAMC,QAAQ,GAACL,SAAS,CAACG,aAAV,CAAwB,IAAxB,EAA8BG,SAA7C;IACA,MAAMC,WAAW,GAACP,SAAS,CAACG,aAAV,CAAwB,GAAxB,EAA6BG,SAA/C;IAEA,MAAME,aAAa,GAAC;MACJN,MADI;MACIG,QADJ;MACcE,WADd;MAEJE,EAAE,EAACX,GAAG,CAACY,OAAJ,CAAYC;IAFX,CAApB;IAKA,IAAIC,kBAAkB,GAAEf,mBAAmB,CAACgB,IAApB,CAAyBC,YAAY,IAAE;MAC7D,OAAOA,YAAY,CAACL,EAAb,KAAoBD,aAAa,CAACC,EAAzC;IACD,CAFuB,CAAxB;;IAIA,IAAG,CAACG,kBAAJ,EAAuB;MAErBf,mBAAmB,CAACkB,IAApB,CAAyBP,aAAzB;MACAnB,YAAY,CAAC2B,OAAb,CAAqB,MAArB,EAA6BxB,IAAI,CAACyB,SAAL,CAAepB,mBAAf,CAA7B;MACAV,OAAO,CAACU,mBAAD,CAAP;MACAqB,OAAO,CAACC,GAAR,CAAY,wBAAZ;IACD,CAND,MAMO;MACL,IAAIC,aAAa,GAACvB,mBAAmB,CAACwB,MAApB,CAA2BP,YAAY,IAAE;QACzD,OAAOA,YAAY,CAACL,EAAb,KAAoBD,aAAa,CAACC,EAAzC;MACD,CAFiB,CAAlB;MAGApB,YAAY,CAAC2B,OAAb,CAAqB,MAArB,EAA6BxB,IAAI,CAACyB,SAAL,CAAeG,aAAf,CAA7B;MACAjC,OAAO,CAACiC,aAAD,CAAP;MACAF,OAAO,CAACC,GAAR,CAAY,yBAAZ;IACC;EACF,CA5CH;;EAkDA,oBACE;IAAA,wBACE,QAAC,MAAD;MACA,UAAU,EAAEjC;IADZ;MAAA;MAAA;MAAA;IAAA,QADF,eAIC,QAAC,OAAD;MACK,mBAAmB,EAAEQ;IAD1B;MAAA;MAAA;MAAA;IAAA,QAJD,eAQE,QAAC,MAAD;MAAA;MAAA;MAAA;IAAA,QARF;EAAA,gBADF;AAYD;;GA5EQT,M;;KAAAA,M;AA8ET,eAAeA,MAAf"},"metadata":{},"sourceType":"module"}