{"ast":null,"code":"import{useFormik}from\"formik\";import*as Yup from\"yup\";import{ToastContainer,toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import\"./TaskForm.styles.css\";import axios from\"axios\";import{Link}from'react-router-dom';import{Header}from'../Header/Header';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var TaskForm=function TaskForm(){var initialValues={title:\"\",status:\"\",importance:\"\",description:\"\"};var onSubmit=function onSubmit(values){console.log(values);var token=localStorage.getItem(\"token\");var userName=localStorage.getItem(\"userName\");var userId=localStorage.getItem(\"userId\");var title=values.title,status=values.status,importance=values.importance,description=values.description;axios.post(\"api/task/create\",{title:title,status:status,importance:importance,description:description,userName:userName,userId:userId},{headers:{'Authorization':\"Bearer \".concat(token)}}).then(function(response){if(response.status===200){resetForm();toast.success('Tu estrategia se creó!',{position:\"top-right\",autoClose:5000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});}}).catch(function(error){console.log(error);});};var required=\"* Campo obligatorio\";var validationSchema=function validationSchema(){return Yup.object().shape({title:Yup.string().min(6,\"La cantidad mínima de caracteres es 6\").required(required),status:Yup.string().required(required),description:Yup.string().required(required),importance:Yup.string().required(required)});};var formik=useFormik({initialValues:initialValues,validationSchema:validationSchema,onSubmit:onSubmit});var handleSubmit=formik.handleSubmit,handleChange=formik.handleChange,errors=formik.errors,touched=formik.touched,handleBlur=formik.handleBlur,values=formik.values,resetForm=formik.resetForm;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"div\",{className:\"newTaskWrapper\",children:/*#__PURE__*/_jsxs(\"section\",{className:\"task-form\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Crear estrategia\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Crea tus acciones \"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{name:\"title\",onChange:handleChange,onBlur:handleBlur,placeholder:\"T\\xEDtulo\",className:errors.title&&touched.title?\"error\":\"\",value:values.title}),errors.title&&touched.title&&/*#__PURE__*/_jsx(\"span\",{className:\"error-message\",children:errors.title})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"select\",{name:\"status\",className:errors.status&&touched.status?\"error\":\"\",onChange:handleChange,onBlur:handleBlur,value:values.status,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Seleccionar un estado\"}),/*#__PURE__*/_jsx(\"option\",{value:\"New\",children:\"Nueva\"}),/*#__PURE__*/_jsx(\"option\",{value:\"In process\",children:\"En proceso\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Finished\",children:\"Teminada\"})]}),errors.status&&touched.status&&/*#__PURE__*/_jsx(\"span\",{className:\"error-message\",children:errors.status})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"select\",{name:\"importance\",onChange:handleChange,onBlur:handleBlur,className:errors.importance&&touched.importance?\"error\":\"\",value:values.importance,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Seleccionar una prioridad\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Low\",children:\"Baja\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Medium\",children:\"Media\"}),/*#__PURE__*/_jsx(\"option\",{value:\"High\",children:\"Alta\"})]}),errors.importance&&touched.importance&&/*#__PURE__*/_jsx(\"span\",{className:\"error-message\",children:errors.importance})]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",onChange:handleChange,placeholder:\"Descripci\\xF3n\",onBlur:handleBlur,className:errors.description&&touched.description?\"error\":\"\",value:values.description})}),/*#__PURE__*/_jsx(\"div\",{children:errors.description&&touched.description&&/*#__PURE__*/_jsx(\"span\",{className:\"error-message\",children:errors.description})}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttons\",children:[/*#__PURE__*/_jsx(\"button\",{id:\"crear\",type:\"submit\",style:{width:'95px'},children:\"Crear\"}),/*#__PURE__*/_jsx(\"button\",{children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Volver\"})})]})]}),/*#__PURE__*/_jsx(ToastContainer,{})]})})]});};","map":{"version":3,"names":["useFormik","Yup","ToastContainer","toast","axios","Link","Header","TaskForm","initialValues","title","status","importance","description","onSubmit","values","console","log","token","localStorage","getItem","userName","userId","post","headers","then","response","resetForm","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","catch","error","required","validationSchema","object","shape","string","min","formik","handleSubmit","handleChange","errors","touched","handleBlur","width"],"sources":["C:/Users/Valeria Rico/Documents/Alkemy/React II/Proyecto React II/Proyecto Avengers/client/src/components/TaskForm/TaskForm.js"],"sourcesContent":["import { useFormik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport \"./TaskForm.styles.css\";\r\nimport axios from \"axios\";\r\nimport {Link} from 'react-router-dom'\r\nimport {Header} from '../Header/Header'\r\n\r\n\r\nexport const TaskForm = () => {\r\n  const initialValues = {\r\n    title: \"\",\r\n    status: \"\",\r\n    importance: \"\",\r\n    description: \"\",\r\n    \r\n  };\r\n\r\n  const onSubmit = (values) => {\r\n    console.log(values)\r\n    const token = localStorage.getItem(\"token\");\r\n    const userName = localStorage.getItem(\"userName\");\r\n    const userId = localStorage.getItem(\"userId\");\r\n\r\n    const {title, status, importance, description} = values;\r\n\r\n\r\n     axios.post(`api/task/create`,  {\r\n      title, status, importance, description, userName, userId },\r\n      { headers:  {\r\n        'Authorization': `Bearer ${token}`,\r\n       }            \r\n        \r\n    }\r\n   ,)\r\n      .then((response) => {\r\n        if (response.status === 200){\r\n        resetForm();\r\n        toast.success('Tu estrategia se creó!', {\r\n          position: \"top-right\",\r\n          autoClose: 5000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n          progress: undefined,\r\n          });\r\n     \r\n            }\r\n      })\r\n      \r\n      .catch ((error) => {console.log(error)});\r\n\r\n      };\r\n\r\n  const required = \"* Campo obligatorio\";\r\n\r\n  const validationSchema = () =>\r\n    Yup.object().shape({\r\n      title: Yup.string()\r\n        .min(6, \"La cantidad mínima de caracteres es 6\")\r\n        .required(required),\r\n      status: Yup.string().required(required),\r\n      description: Yup.string().required(required),\r\n      importance: Yup.string().required(required),\r\n    });\r\n\r\n  const formik = useFormik({ initialValues, validationSchema, onSubmit });\r\n\r\n  const {\r\n    handleSubmit,\r\n    handleChange,\r\n    errors,\r\n    touched,\r\n    handleBlur,\r\n    values,\r\n    resetForm,\r\n  } = formik;\r\n\r\n  return (\r\n    <>\r\n    <Header/>\r\n    <div className='newTaskWrapper'>\r\n     \r\n    <section className=\"task-form\">\r\n      <h1>Crear estrategia</h1>\r\n      <p>Crea tus acciones </p>\r\n      <form onSubmit={handleSubmit}>\r\n        <div>\r\n          <div>\r\n            <input\r\n              name=\"title\"\r\n              onChange={handleChange}\r\n              onBlur={handleBlur}\r\n              placeholder=\"Título\"\r\n              className={errors.title && touched.title ? \"error\" : \"\"}\r\n              value={values.title}\r\n            />\r\n            {errors.title && touched.title && (\r\n              <span className=\"error-message\">{errors.title}</span>\r\n            )}\r\n          </div>\r\n          <div>\r\n            <select\r\n              name=\"status\"\r\n              className={errors.status && touched.status ? \"error\" : \"\"}\r\n              onChange={handleChange}\r\n              onBlur={handleBlur}\r\n              value={values.status}\r\n            >\r\n              <option value=\"\">Seleccionar un estado</option>\r\n              <option value=\"New\">Nueva</option>\r\n              <option value=\"In process\">En proceso</option>\r\n              <option value=\"Finished\">Teminada</option>\r\n            </select>\r\n            {errors.status && touched.status && (\r\n              <span className=\"error-message\">{errors.status}</span>\r\n            )}\r\n          </div>\r\n          <div>\r\n            <select\r\n              name=\"importance\"\r\n              onChange={handleChange}\r\n              onBlur={handleBlur}\r\n              className={errors.importance && touched.importance ? \"error\" : \"\"}\r\n              value={values.importance}\r\n            >\r\n              <option value=\"\">Seleccionar una prioridad</option>\r\n              <option value=\"Low\">Baja</option>\r\n              <option value=\"Medium\">Media</option>\r\n              <option value=\"High\">Alta</option>\r\n            </select>\r\n            {errors.importance && touched.importance && (\r\n              <span className=\"error-message\">{errors.importance}</span>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <textarea\r\n            name=\"description\"\r\n            onChange={handleChange}\r\n            placeholder=\"Descripción\"\r\n            onBlur={handleBlur}\r\n            className={errors.description && touched.description ? \"error\" : \"\"}\r\n            value={values.description}\r\n          />\r\n        </div>\r\n        <div>\r\n          {errors.description && touched.description && (\r\n            <span className=\"error-message\">{errors.description}</span>\r\n          )}\r\n        </div>\r\n        <div className=\"buttons\">\r\n          <button id='crear' type=\"submit\" style={{width:'95px'}}>Crear</button>\r\n          <button><Link to=\"/\">Volver</Link></button>            \r\n        </div>\r\n      </form>\r\n      <ToastContainer />\r\n    </section>\r\n    </div>\r\n    </>\r\n  );\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}