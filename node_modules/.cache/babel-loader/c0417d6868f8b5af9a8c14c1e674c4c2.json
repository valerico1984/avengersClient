{"ast":null,"code":"import React from\"react\";import{useFormik}from\"formik\";import{useNavigate,Link}from\"react-router-dom\";import*as Yup from\"yup\";import{swal}from\"../../../../utils/swal\";import axios from'axios';import\"../Auth.styles.css\";import blackwidow from'../../../../img/blackWidow.png';import spiderman from'../../../../img/spiderman.png';import ironman from'../../../../img/ironman.png';import hulk from'../../../../img/hulk.png';import hawkeye from'../../../../img/hawkeye.png';import captainAmerica from'../../../../img/captainAmerica.png';import avengers from'../../../../img/avengers.png';import thor from'../../../../img/thor.png';import logomarvel from'../../../../img/logomarvel.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var avengersName=[\"Hulk\",\"Spider Man\",\"Iron Man\",\"Thor\",\"Capitán América\",\"Black Widow\",\"Hawk Eye\"];export var Login=function Login(){var navigate=useNavigate();var initialValues={userName:\"avengers\",password:\"\"};var required=\"* Campo obligatorio\";var validationSchema=function validationSchema(){return Yup.object().shape({userName:Yup.string().min(4,\"La cantidad mínima de caracteres es 4\").required(required),password:Yup.string().required(required)});};var onSubmit=function onSubmit(){var userName=values.userName,password=values.password;axios.post(\"api/login\",{userName:userName,password:password}).then(function(response){if(response.status===200){var _response$data,_response$data2,_response$data3;localStorage.setItem(\"token\",response===null||response===void 0?void 0:(_response$data=response.data)===null||_response$data===void 0?void 0:_response$data.token);localStorage.setItem(\"userId\",response===null||response===void 0?void 0:(_response$data2=response.data)===null||_response$data2===void 0?void 0:_response$data2.userId);localStorage.setItem(\"userName\",response===null||response===void 0?void 0:(_response$data3=response.data)===null||_response$data3===void 0?void 0:_response$data3.userName);navigate(\"/\",{replace:true});}}).catch(function(error){swal();});};var formik=useFormik({initialValues:initialValues,validationSchema:validationSchema,onSubmit:onSubmit});var handleSubmit=formik.handleSubmit,handleChange=formik.handleChange,errors=formik.errors,touched=formik.touched,handleBlur=formik.handleBlur,values=formik.values;var renderAvenger=function renderAvenger(){switch(values.userName){case'Spider Man':return/*#__PURE__*/_jsx(\"img\",{src:spiderman,className:\"equipo scale-up-center\",alt:\"spiderman\"});case'Black Widow':return/*#__PURE__*/_jsx(\"img\",{src:blackwidow,className:\"equipo scale-up-center\",alt:\"blackwidow\"});case'Iron Man':return/*#__PURE__*/_jsx(\"img\",{src:ironman,className:\"equipo scale-up-center\",alt:\"ironman\"});case'Hawk Eye':return/*#__PURE__*/_jsx(\"img\",{src:hawkeye,className:\"equipo scale-up-center\",alt:\"hawkeye\"});case'Thor':return/*#__PURE__*/_jsx(\"img\",{src:thor,className:\"equipo scale-up-center\",alt:\"thor\"});case'Capitán América':return/*#__PURE__*/_jsx(\"img\",{src:captainAmerica,className:\"equipo scale-up-center\",alt:\"captainAmerica\"});case'Hulk':return/*#__PURE__*/_jsx(\"img\",{src:hulk,className:\"equipo scale-up-center\",alt:\"hulk\"});default:return/*#__PURE__*/_jsx(\"img\",{src:avengers,className:\"equipo_completo scale-up-center\",alt:\"avengers\"});}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"header_login\",children:/*#__PURE__*/_jsx(\"img\",{className:\"logomarvel\",src:logomarvel,alt:\"logomarvel\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"wrapperLogin\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"auth\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h1\",{children:\" \\xA1Bienvenid@, Avenger!\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\xBFQui\\xE9n eres?\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"userName\",onChange:handleChange,value:values.userName,className:errors.userName&&touched.userName?\"error\":\"\",onBlur:handleBlur,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Selecciona tu nombre...\"}),avengersName.map(function(option){return/*#__PURE__*/_jsx(\"option\",{value:option,children:option},option);})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Contrase\\xF1a\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",onChange:handleChange,value:values.password,onBlur:handleBlur,className:errors.password&&touched.password?\"error\":\"\"}),errors.password&&touched.password&&/*#__PURE__*/_jsx(\"div\",{children:errors.password})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Enviar\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"wrapperList\",children:[/*#__PURE__*/_jsx(\"h5\",{style:{textAlign:'center',margin:'20px 0 10px 0 ',padding:'0'},children:\"\\xBFA\\xFAn no configuraste tu cuenta?\"}),/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Registrate\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"equipo\",children:renderAvenger(values.userName)})]})]});};","map":{"version":3,"names":["React","useFormik","useNavigate","Link","Yup","swal","axios","blackwidow","spiderman","ironman","hulk","hawkeye","captainAmerica","avengers","thor","logomarvel","avengersName","Login","navigate","initialValues","userName","password","required","validationSchema","object","shape","string","min","onSubmit","values","post","then","response","status","localStorage","setItem","data","token","userId","replace","catch","error","formik","handleSubmit","handleChange","errors","touched","handleBlur","renderAvenger","map","option","textAlign","margin","padding"],"sources":["C:/Users/Valeria Rico/Documents/Alkemy/React II/Proyecto React II/Proyecto Avengers/client/src/components/views/auth/Login/Login.js"],"sourcesContent":["import React from \"react\";\r\nimport { useFormik } from \"formik\";\r\nimport { useNavigate, Link } from \"react-router-dom\";\r\nimport * as Yup from \"yup\";\r\nimport { swal } from \"../../../../utils/swal\";\r\nimport axios from 'axios';\r\nimport \"../Auth.styles.css\";\r\nimport blackwidow from '../../../../img/blackWidow.png'\r\nimport spiderman from '../../../../img/spiderman.png'\r\nimport ironman from '../../../../img/ironman.png'\r\nimport hulk from '../../../../img/hulk.png'\r\nimport hawkeye from '../../../../img/hawkeye.png'\r\nimport captainAmerica from '../../../../img/captainAmerica.png'\r\nimport avengers from '../../../../img/avengers.png'\r\nimport thor from '../../../../img/thor.png'\r\nimport logomarvel from '../../../../img/logomarvel.png'\r\n\r\n\r\nconst avengersName = [\"Hulk\",\"Spider Man\", \"Iron Man\",\"Thor\", \"Capitán América\", \"Black Widow\", \"Hawk Eye\"]\r\n\r\nexport const Login = () => {\r\n  const navigate = useNavigate();\r\n  \r\n  const initialValues = {\r\n    userName: \"avengers\",\r\n    password: \"\",\r\n  }\r\n\r\n\r\n const required = \"* Campo obligatorio\";\r\n\r\n  const validationSchema = () =>\r\n    Yup.object().shape({\r\n      userName: Yup.string()\r\n        .min(4, \"La cantidad mínima de caracteres es 4\")\r\n        .required(required),\r\n      password: Yup.string().required(required),\r\n    });\r\n\r\n\r\n  const onSubmit = () => {\r\n\r\n    const {userName, password} = values\r\n \r\n\r\n   axios.post(`api/login`, {\r\n        userName,\r\n        password,\r\n      })\r\n      .then((response) => {\r\n        \r\n        if (response.status === 200) {\r\n          localStorage.setItem(\"token\", response?.data?.token);\r\n          localStorage.setItem(\"userId\", response?.data?.userId);\r\n          localStorage.setItem(\"userName\", response?.data?.userName);\r\n          navigate(\"/\", { replace: true });\r\n        } \r\n    \r\n      \r\n      })\r\n              .catch(function(error){\r\n                \r\n                 swal()\r\n              }\r\n           \r\n              )\r\n        }\r\n     \r\n     \r\n    \r\n\r\n  const formik = useFormik({ initialValues, validationSchema, onSubmit });\r\n\r\n  const { handleSubmit, handleChange, errors, touched, handleBlur, values } =\r\n    formik;\r\n\r\n  \r\n    const renderAvenger=() =>{\r\n      switch(values.userName){\r\n        case 'Spider Man':\r\n          return <img src={spiderman} className='equipo scale-up-center' alt='spiderman'/>;\r\n       case 'Black Widow':\r\n            return <img src={blackwidow} className='equipo scale-up-center' alt='blackwidow'/>;  \r\n            case 'Iron Man':\r\n            return <img src={ironman} className='equipo scale-up-center'alt='ironman'/>; \r\n            case 'Hawk Eye':\r\n            return <img src={hawkeye} className='equipo scale-up-center' alt='hawkeye'/>; \r\n            case 'Thor':\r\n            return <img src={thor} className='equipo scale-up-center' alt='thor'/>; \r\n            case 'Capitán América':\r\n            return <img src={captainAmerica} className='equipo scale-up-center' alt='captainAmerica'/>; \r\n            case 'Hulk':\r\n            return <img src={hulk} className='equipo scale-up-center'alt='hulk'/>; \r\n            default:\r\n              return <img src={avengers} className='equipo_completo scale-up-center' alt='avengers'/>;\r\n      }\r\n      \r\n    }\r\n  \r\n\r\n  return (\r\n    <div>\r\n    <div className='header_login'>\r\n          <img className='logomarvel' src={logomarvel} alt='logomarvel'/>\r\n       </div>\r\n    <div className='wrapperLogin'>\r\n      \r\n       <div className=\"auth\">\r\n      \r\n        <form onSubmit={handleSubmit}>\r\n          <h1> ¡Bienvenid@, Avenger!</h1>\r\n          <div>\r\n            <label>¿Quién eres?</label>\r\n            <select\r\n            name=\"userName\"\r\n            onChange={handleChange}\r\n            value={values.userName}\r\n            className={errors.userName && touched.userName ? \"error\" : \"\"}\r\n            onBlur={handleBlur}\r\n          >\r\n            <option value=\"\">Selecciona tu nombre...</option>\r\n            {avengersName.map((option) => {\r\n            return(\r\n                <option key={option} value={option}>\r\n                {option}\r\n              </option>)\r\n})}\r\n          </select>\r\n          </div>\r\n          <div>\r\n            <label>Contraseña</label>\r\n            <input\r\n              type=\"password\"\r\n              name=\"password\"\r\n              onChange={handleChange}\r\n              value={values.password}\r\n              onBlur={handleBlur}\r\n              className={errors.password && touched.password ? \"error\" : \"\"}\r\n            />\r\n            {errors.password && touched.password && (\r\n              <div>{errors.password}</div>\r\n            )}\r\n          </div>\r\n          <div>\r\n            <button type=\"submit\">Enviar</button>\r\n            \r\n          </div>\r\n          <div className='wrapperList'>\r\n            <h5 style={{textAlign: 'center', margin:'20px 0 10px 0 ', padding: '0'}}>¿Aún no configuraste tu cuenta?</h5>\r\n            <Link to=\"/register\">Registrate</Link>\r\n          </div>\r\n        </form>\r\n      </div>\r\n     \r\n      <div className='equipo'>\r\n      {renderAvenger(values.userName)} \r\n        </div>\r\n    </div>\r\n    \r\n    </div>\r\n  );\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}