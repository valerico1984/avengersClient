{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Valeria Rico\\\\Documents\\\\Alkemy\\\\React II\\\\Proyecto React II\\\\Proyecto Avengers\\\\client\\\\src\\\\components\\\\Invitados\\\\Inicio.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react'; //Libraries\n\nimport { Routes, Route } from 'react-router-dom'; //Styles\n\nimport './app.css'; //Components\n\nimport Listado from './Listado';\nimport Header from './Header';\nimport Footer from './Footer';\nimport Detalle from './Detalle';\nimport Resultados from './Resultados';\nimport Favoritos from './Favoritos';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Inicio() {\n  _s();\n\n  const [favourites, setFavs] = useState([]);\n  useEffect(() => {\n    const favsInLocal = localStorage.getItem('favs');\n\n    if (favsInLocal !== null) {\n      const favsArray = JSON.parse(favsInLocal);\n      setFavs(favsArray);\n    }\n  }, []);\n\n  const addOrRemovefromFavs = e => {\n    const favMovies = localStorage.getItem('favs');\n    let tempMoviesInFavs;\n\n    if (favMovies === null) {\n      tempMoviesInFavs = [];\n    } else {\n      tempMoviesInFavs = JSON.parse(favMovies);\n    }\n\n    const btn = e.currentTarget;\n    const parentBtn = btn.parentElement;\n    const imgUrl = parentBtn.querySelector('img').getAttribute('src');\n    const title = parentBtn.querySelector('h5').innerText;\n    const overview = parentBtn.querySelector('p').innerText;\n    const movieData = {\n      imgUrl,\n      title,\n      overview,\n      id: btn.dataset.movieId\n    };\n    let movieIsInArray = tempMoviesInFavs.find(oneMovie => {\n      return oneMovie.id === movieData.id;\n    });\n\n    if (!movieIsInArray) {\n      tempMoviesInFavs.push(movieData);\n      localStorage.setItem('favs', JSON.stringify(tempMoviesInFavs));\n      setFavs(tempMoviesInFavs);\n      console.log('Se agregó la película');\n    } else {\n      let moviesLeft = tempMoviesInFavs.filter(oneMovie => {\n        return oneMovie.id !== movieData.id;\n      });\n      localStorage.setItem('favs', JSON.stringify(moviesLeft));\n      setFavs(moviesLeft);\n      console.log('Se eliminó la película');\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      favourites: favourites\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/invitados\",\n        element: /*#__PURE__*/_jsxDEV(Listado, {\n          addOrRemovefromFavs: addOrRemovefromFavs\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 45\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/invitados/detalle\",\n        element: /*#__PURE__*/_jsxDEV(Detalle, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 53\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/invitados/resultados\",\n        element: /*#__PURE__*/_jsxDEV(Resultados, {\n          addOrRemovefromFavs: addOrRemovefromFavs\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 56\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/invitados/favoritos\",\n        element: /*#__PURE__*/_jsxDEV(Favoritos, {\n          addOrRemovefromFavs: addOrRemovefromFavs,\n          favourites: favourites\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 55\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Inicio, \"tq4SI8Vh8/3Ue+Ne4ZsO7dH7hcc=\");\n\n_c = Inicio;\nexport default Inicio;\n\nvar _c;\n\n$RefreshReg$(_c, \"Inicio\");","map":{"version":3,"names":["useState","useEffect","Routes","Route","Listado","Header","Footer","Detalle","Resultados","Favoritos","Inicio","favourites","setFavs","favsInLocal","localStorage","getItem","favsArray","JSON","parse","addOrRemovefromFavs","e","favMovies","tempMoviesInFavs","btn","currentTarget","parentBtn","parentElement","imgUrl","querySelector","getAttribute","title","innerText","overview","movieData","id","dataset","movieId","movieIsInArray","find","oneMovie","push","setItem","stringify","console","log","moviesLeft","filter"],"sources":["C:/Users/Valeria Rico/Documents/Alkemy/React II/Proyecto React II/Proyecto Avengers/client/src/components/Invitados/Inicio.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\n\r\n//Libraries\r\nimport {Routes, Route} from 'react-router-dom';\r\n\r\n//Styles\r\nimport './app.css'\r\n\r\n//Components\r\nimport Listado from './Listado'\r\nimport Header from './Header'\r\nimport Footer from './Footer'\r\nimport Detalle from './Detalle';\r\nimport Resultados from './Resultados';\r\nimport Favoritos from './Favoritos';\r\n\r\n\r\nfunction Inicio() {\r\n\r\n  const [favourites, setFavs]= useState([]);\r\n\r\n  useEffect(()=>{\r\n\r\n    const favsInLocal= localStorage.getItem('favs')\r\n     \r\n     if(favsInLocal!== null){\r\n         const favsArray= JSON.parse(favsInLocal);\r\n         setFavs(favsArray)       }\r\n  },[])\r\n\r\n  \r\n  const addOrRemovefromFavs=(e)=>{\r\n\r\n    const favMovies= localStorage.getItem('favs')\r\n\r\n    let tempMoviesInFavs;\r\n  \r\n    if(favMovies===null){\r\n      tempMoviesInFavs=[]\r\n  \r\n    } else{\r\n      tempMoviesInFavs= JSON.parse(favMovies)\r\n    }\r\n  \r\n   \r\n    const btn= e.currentTarget;\r\n    const parentBtn= btn.parentElement;\r\n\r\n    const imgUrl= parentBtn.querySelector('img').getAttribute('src');\r\n    const title=parentBtn.querySelector('h5').innerText\r\n    const overview=parentBtn.querySelector('p').innerText\r\n\r\n    const movieData={\r\n                    imgUrl, title, overview,\r\n                    id:btn.dataset.movieId\r\n                  }\r\n    \r\n    let movieIsInArray= tempMoviesInFavs.find(oneMovie=>{\r\n      return oneMovie.id === movieData.id\r\n    });\r\n\r\n    if(!movieIsInArray){\r\n\r\n      tempMoviesInFavs.push(movieData)\r\n      localStorage.setItem('favs', JSON.stringify(tempMoviesInFavs));\r\n      setFavs(tempMoviesInFavs)\r\n      console.log('Se agregó la película')\r\n    } else {\r\n      let moviesLeft=tempMoviesInFavs.filter(oneMovie=>{\r\n        return oneMovie.id !== movieData.id\r\n      });\r\n      localStorage.setItem('favs', JSON.stringify(moviesLeft))\r\n      setFavs(moviesLeft)\r\n      console.log('Se eliminó la película')\r\n      }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n  return (\r\n    <>\r\n      <Header favourites={favourites}/>\r\n        <Routes>\r\n          <Route path='/invitados' element={<Listado addOrRemovefromFavs={addOrRemovefromFavs}/>}/>\r\n          <Route path='/invitados/detalle' element={<Detalle/>}/>\r\n          <Route path='/invitados/resultados' element={<Resultados addOrRemovefromFavs={addOrRemovefromFavs}/>}/>\r\n          <Route path='/invitados/favoritos' element={<Favoritos addOrRemovefromFavs={addOrRemovefromFavs} favourites={favourites}/>}/>\r\n          \r\n        </Routes>\r\n      <Footer/>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Inicio;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}