{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Valeria Rico\\\\Documents\\\\Alkemy\\\\React II\\\\Proyecto React II\\\\Proyecto Avengers\\\\client\\\\src\\\\components\\\\views\\\\auth\\\\Register\\\\Register.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport * as Yup from \"yup\";\nimport { Link } from \"react-router-dom\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from 'axios';\nimport { Formik } from 'formik';\nimport \"../Auth.styles.css\";\nimport logocompleto from '../../../../img/logocompleto.png';\nimport { swal2 } from \"../../../../utils/swal2.jsx\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  REACT_APP_API_ENDPOINT\n} = process.env;\nexport const Register = () => {\n  _s();\n\n  const [data, setData] = useState();\n  const navigate = useNavigate();\n  useEffect(() => {\n    axios.get(`${REACT_APP_API_ENDPOINT}api/result`).then(result => {\n      setData(result.data);\n    });\n  }, [setData]);\n  const required = \"*Campo obligatorio\";\n\n  const registerSchema = () => Yup.object().shape({\n    userName: Yup.string().min(4, \"La cantidad mínima de caracteres es 4\").required(required),\n    password: Yup.string().required(required).min(4, \"La contraseña debe tener más de 4 caracteres\"),\n    email: Yup.string().email(\"Debe ser un email válido\").required(required)\n  });\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"auth\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      className: \"logo_completo flip-vertical-fwd\",\n      src: logocompleto,\n      alt: \"logo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 8\n    }, this), /*#__PURE__*/_jsxDEV(Formik, {\n      initialValues: {\n        \"userName\": '',\n        \"email\": '',\n        \"password\": ''\n      },\n      validationSchema: registerSchema,\n      onSubmit: values => {\n        const {\n          userName,\n          password,\n          email\n        } = values;\n        axios.post(`${REACT_APP_API_ENDPOINT}api/register`, {\n          userName,\n          password,\n          email\n        }).then(response => {\n          console.log(response);\n\n          if (response.status === 200) {\n            swal2();\n            navigate(\"/login\", {\n              replace: true\n            });\n          }\n        });\n      },\n      children: _ref => {\n        var _data$userName;\n\n        let {\n          errors,\n          touched,\n          handleSubmit,\n          handleBlur,\n          handleChange\n        } = _ref;\n        return /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            style: {\n              textAlign: 'center'\n            },\n            children: \"Registro\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\xBFCu\\xE1l es tu nombre?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"userName\",\n              onChange: handleChange,\n              value: values.userName,\n              className: errors.userName && touched.userName ? \"error\" : \"\",\n              onBlur: handleBlur,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Selecciona tu nombre...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 13\n              }, this), data === null || data === void 0 ? void 0 : (_data$userName = data.userName) === null || _data$userName === void 0 ? void 0 : _data$userName.map(option => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: option,\n                children: option\n              }, option, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 15\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Contrase\\xF1a\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              name: \"password\",\n              onChange: handleChange,\n              value: values.password,\n              className: errors.password && touched.password ? \"error\" : \"\",\n              onBlur: handleBlur\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 11\n            }, this), errors.password && touched.password && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"error-message\",\n              children: errors.password\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              name: \"email\",\n              onChange: handleChange,\n              value: values.email,\n              className: errors.email && touched.email ? \"error\" : \"\",\n              onBlur: handleBlur\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 11\n            }, this), errors.email && touched.email && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"error-message\",\n              children: errors.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              children: \"Enviar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"wrapperList\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              style: {\n                textAlign: 'center',\n                margin: '20px 0 10px 0 ',\n                padding: '0'\n              },\n              children: \"\\xBFYa est\\xE1s registrado?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/login\",\n              children: \"Inicia sesi\\xF3n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 7\n        }, this);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Register, \"lCx6HJKoiFHiTguRpxTjBJq2c6s=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["React","useState","useEffect","Yup","Link","useNavigate","axios","Formik","logocompleto","swal2","REACT_APP_API_ENDPOINT","process","env","Register","data","setData","navigate","get","then","result","required","registerSchema","object","shape","userName","string","min","password","email","values","post","response","console","log","status","replace","errors","touched","handleSubmit","handleBlur","handleChange","textAlign","map","option","margin","padding"],"sources":["C:/Users/Valeria Rico/Documents/Alkemy/React II/Proyecto React II/Proyecto Avengers/client/src/components/views/auth/Register/Register.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport * as Yup from \"yup\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useNavigate } from \"react-router-dom\"\r\nimport axios from 'axios';\r\nimport {Formik} from 'formik';\r\n\r\n\r\nimport \"../Auth.styles.css\";\r\nimport logocompleto from '../../../../img/logocompleto.png'\r\nimport { swal2 } from \"../../../../utils/swal2.jsx\";\r\n\r\n\r\nconst { REACT_APP_API_ENDPOINT } = process.env\r\n\r\nexport const Register = () => {\r\n  const [data, setData] = useState();\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    axios.get(`${REACT_APP_API_ENDPOINT}api/result`)\r\n    \r\n    .then((result) => {\r\n\r\n      setData(result.data)}\r\n    );\r\n}, [setData]);\r\n\r\n  \r\n  const required = \"*Campo obligatorio\";\r\n\r\n  const registerSchema = () =>\r\n    Yup.object().shape({\r\n      userName: Yup.string()\r\n        .min(4, \"La cantidad mínima de caracteres es 4\")\r\n        .required(required),\r\n      password: Yup.string().required(required).min(4, \"La contraseña debe tener más de 4 caracteres\"),\r\n      email: Yup.string().email(\"Debe ser un email válido\").required(required),\r\n            \r\n    });\r\n\r\n  \r\n  return (\r\n    <div className=\"auth\">\r\n       <img className='logo_completo flip-vertical-fwd' src={logocompleto} alt='logo'></img>\r\n      <Formik \r\n          initialValues={{\r\n            \"userName\":'',\r\n            \"email\":'',\r\n            \"password\":''   \r\n               }}\r\n         validationSchema={registerSchema}\r\n\r\n           onSubmit={(values)=>{\r\n            const {userName, password, email} = values;\r\n\r\n            axios.post(`${REACT_APP_API_ENDPOINT}api/register`, {\r\n                       userName,\r\n                       password,\r\n                       email\r\n                    })\r\n                   .then((response)=>{\r\n                    console.log(response)\r\n                    if (response.status === 200) {\r\n                      swal2()\r\n                    navigate(\"/login\", { replace: true });\r\n                   }\r\n                  })\r\n\r\n           }}\r\n          \r\n\r\n           >\r\n    {({\r\n           \r\n           errors,\r\n           touched,\r\n           handleSubmit,\r\n           handleBlur,\r\n           handleChange\r\n           \r\n         \r\n        }) =>{\r\n          return(\r\n      <Form onSubmit={handleSubmit}>\r\n        <h1 style={{textAlign: 'center'}}>Registro</h1>\r\n        <div>\r\n          <label>¿Cuál es tu nombre?</label>\r\n          <select\r\n            name=\"userName\"\r\n            onChange={handleChange}\r\n            value={values.userName}\r\n            className={errors.userName && touched.userName ? \"error\" : \"\"}\r\n            onBlur={handleBlur}\r\n          >\r\n            <option value=\"\">Selecciona tu nombre...</option>\r\n            {data?.userName?.map((option) => (\r\n              <option value={option} key={option}>\r\n                {option}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        <div>\r\n          <label>Contraseña</label>\r\n          <input\r\n            type=\"password\"\r\n            name=\"password\"\r\n            onChange={handleChange}\r\n            value={values.password}\r\n            className={errors.password && touched.password ? \"error\" : \"\"}\r\n            onBlur={handleBlur}\r\n          />\r\n          {errors.password && touched.password && (\r\n            <span className=\"error-message\">{errors.password}</span>\r\n          )}\r\n        </div>\r\n\r\n        \r\n        <div>\r\n          <label>Email</label>\r\n          <input\r\n            type=\"email\"\r\n            name=\"email\"\r\n            onChange={handleChange}\r\n            value={values.email}\r\n            className={errors.email && touched.email ? \"error\" : \"\"}\r\n            onBlur={handleBlur}\r\n          />\r\n          {errors.email && touched.email && (\r\n            <span className=\"error-message\">{errors.email}</span>\r\n          )}\r\n        </div>\r\n        \r\n        <div>\r\n          <button type=\"submit\">Enviar</button>\r\n        </div>\r\n        <div className='wrapperList'>\r\n            <h5 style={{textAlign: 'center', margin:'20px 0 10px 0 ', padding: '0'}}>¿Ya estás registrado?</h5>\r\n            <Link to=\"/login\">Inicia sesión</Link>\r\n          </div>\r\n\r\n      </Form>\r\n          )\r\n        }}\r\n      </Formik>\r\n    </div>\r\n          \r\n  );\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}