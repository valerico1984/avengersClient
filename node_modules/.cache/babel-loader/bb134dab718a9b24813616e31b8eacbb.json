{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Valeria Rico\\\\Documents\\\\Alkemy\\\\React II\\\\Proyecto React II\\\\Proyecto Avengers\\\\client\\\\src\\\\components\\\\views\\\\auth\\\\Register\\\\Register.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport * as Yup from \"yup\";\nimport { Link } from \"react-router-dom\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from 'axios';\nimport { Formik, Form } from 'formik';\nimport \"../Auth.styles.css\";\nimport logocompleto from '../../../../img/logocompleto.png';\nimport { swal2 } from \"../../../../utils/swal2.jsx\";\nimport Swal from 'sweetalert2';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Register = () => {\n  _s();\n\n  const [data, setData] = useState();\n  const navigate = useNavigate();\n  useEffect(() => {\n    axios.get(`/api/result`).then(result => {\n      setData(result.data);\n    });\n  }, [setData]);\n  const required = \"*Campo obligatorio\";\n\n  const registerSchema = () => Yup.object().shape({\n    userName: Yup.string().min(4, \"La cantidad mínima de caracteres es 4\").required(required),\n    password: Yup.string().required(required).min(4, \"La contraseña debe tener más de 4 caracteres\"),\n    email: Yup.string().email(\"Debe ser un email válido\").required(required)\n  });\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"auth\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      className: \"logo_completo flip-vertical-fwd\",\n      src: logocompleto,\n      alt: \"logo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 8\n    }, this), /*#__PURE__*/_jsxDEV(Formik, {\n      initialValues: {\n        \"userName\": '',\n        \"email\": '',\n        \"password\": ''\n      },\n      validationSchema: registerSchema,\n      onSubmit: values => {\n        const {\n          userName,\n          password,\n          email\n        } = values;\n        axios.post(`/api/register`, {\n          userName,\n          password,\n          email\n        }).then(response => {\n          if (response.status === 200) {\n            swal2();\n            navigate(\"/login\", {\n              replace: true\n            });\n          }\n        }).catch(function (error) {\n          Swal.fire({\n            title: 'Error!',\n            text: 'Verifique los datos',\n            icon: 'error',\n            confirmButtonColor: 'red'\n          });\n        });\n      },\n      children: _ref => {\n        let {\n          errors,\n          touched,\n          handleSubmit,\n          handleBlur,\n          handleChange\n        } = _ref;\n        return /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            style: {\n              textAlign: 'center'\n            },\n            children: \"Registro\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\xBFCu\\xE1l es tu nombre?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"userName\",\n              onChange: handleChange,\n              className: errors.userName && touched.userName ? \"error\" : \"\",\n              onBlur: handleBlur,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Selecciona tu nombre...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 13\n              }, this), data === null || data === void 0 ? void 0 : data.map((option, id) => {\n                return /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: option.userName,\n                  children: option.userName\n                }, id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 111,\n                  columnNumber: 17\n                }, this);\n              })]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Contrase\\xF1a\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              name: \"password\",\n              onChange: handleChange,\n              className: errors.password && touched.password ? \"error\" : \"\",\n              onBlur: handleBlur\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 11\n            }, this), errors.password && touched.password && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"error-message\",\n              children: errors.password\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              name: \"email\",\n              onChange: handleChange,\n              className: errors.email && touched.email ? \"error\" : \"\",\n              onBlur: handleBlur\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 11\n            }, this), errors.email && touched.email && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"error-message\",\n              children: errors.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              children: \"Enviar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"wrapperList\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              style: {\n                textAlign: 'center',\n                margin: '20px 0 10px 0 ',\n                padding: '0'\n              },\n              children: \"\\xBFYa est\\xE1s registrado?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/login\",\n              children: \"Inicia sesi\\xF3n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 7\n        }, this);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Register, \"lCx6HJKoiFHiTguRpxTjBJq2c6s=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["React","useState","useEffect","Yup","Link","useNavigate","axios","Formik","Form","logocompleto","swal2","Swal","Register","data","setData","navigate","get","then","result","required","registerSchema","object","shape","userName","string","min","password","email","values","post","response","status","replace","catch","error","fire","title","text","icon","confirmButtonColor","errors","touched","handleSubmit","handleBlur","handleChange","textAlign","map","option","id","margin","padding"],"sources":["C:/Users/Valeria Rico/Documents/Alkemy/React II/Proyecto React II/Proyecto Avengers/client/src/components/views/auth/Register/Register.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport * as Yup from \"yup\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useNavigate } from \"react-router-dom\"\r\nimport axios from 'axios';\r\nimport {Formik, Form} from 'formik';\r\n\r\n\r\nimport \"../Auth.styles.css\";\r\nimport logocompleto from '../../../../img/logocompleto.png'\r\nimport { swal2 } from \"../../../../utils/swal2.jsx\";\r\nimport Swal from 'sweetalert2';\r\n\r\n\r\n\r\nexport const Register = () => {\r\n  const [data, setData] = useState();\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    axios.get(`/api/result`)\r\n    \r\n    .then((result) => {\r\n      setData(result.data)}\r\n  \r\n   \r\n    );\r\n  \r\n}, [setData]);\r\n\r\n  \r\n  const required = \"*Campo obligatorio\";\r\n\r\n  const registerSchema = () =>\r\n    Yup.object().shape({\r\n      userName: Yup.string()\r\n        .min(4, \"La cantidad mínima de caracteres es 4\")\r\n        .required(required),\r\n      password: Yup.string().required(required).min(4, \"La contraseña debe tener más de 4 caracteres\"),\r\n      email: Yup.string().email(\"Debe ser un email válido\").required(required),\r\n            \r\n    });\r\n\r\n  \r\n  return (\r\n    <div className=\"auth\">\r\n       <img className='logo_completo flip-vertical-fwd' src={logocompleto} alt='logo'></img>\r\n      <Formik \r\n          initialValues={{\r\n            \"userName\":'',\r\n            \"email\":'',\r\n            \"password\":''   \r\n               }}\r\n         validationSchema={registerSchema}\r\n\r\n           onSubmit={(values)=>{\r\n            const {userName, password, email} = values;\r\n\r\n            axios.post(`/api/register`, {\r\n                       userName,\r\n                       password,\r\n                       email\r\n                    })\r\n                   .then((response)=>{\r\n                  \r\n                    if (response.status === 200) {\r\n                      swal2()\r\n                    navigate(\"/login\", { replace: true });\r\n                   }\r\n                  }\r\n                  \r\n                  )\r\n                  .catch(function(error){\r\n                    Swal.fire({\r\n                      title: 'Error!',\r\n                      text: 'Verifique los datos',\r\n                      icon: 'error',\r\n                      confirmButtonColor: 'red'\r\n                    })\r\n                 })\r\n                  \r\n\r\n           }}\r\n          \r\n\r\n           >\r\n    {({\r\n           \r\n           errors,\r\n           touched,\r\n           handleSubmit,\r\n           handleBlur,\r\n           handleChange\r\n           \r\n         \r\n        }) =>{\r\n          return(\r\n      <Form onSubmit={handleSubmit}>\r\n        <h1 style={{textAlign: 'center'}}>Registro</h1>\r\n        <div>\r\n          <label>¿Cuál es tu nombre?</label>\r\n          <select\r\n            name=\"userName\"\r\n            onChange={handleChange}\r\n            className={errors.userName && touched.userName ? \"error\" : \"\"}\r\n            onBlur={handleBlur}\r\n          >\r\n            <option value=\"\">Selecciona tu nombre...</option>\r\n            {data?.map((option, id) => {\r\n            return(\r\n                <option key={id} value={option.userName}>\r\n                {option.userName}\r\n              </option>)\r\n})}\r\n          </select>\r\n        </div>\r\n        <div>\r\n          <label>Contraseña</label>\r\n          <input\r\n            type=\"password\"\r\n            name=\"password\"\r\n            onChange={handleChange}\r\n            className={errors.password && touched.password ? \"error\" : \"\"}\r\n            onBlur={handleBlur}\r\n          />\r\n          {errors.password && touched.password && (\r\n            <span className=\"error-message\">{errors.password}</span>\r\n          )}\r\n        </div>\r\n\r\n        \r\n        <div>\r\n          <label>Email</label>\r\n          <input\r\n            type=\"email\"\r\n            name=\"email\"\r\n            onChange={handleChange}\r\n            className={errors.email && touched.email ? \"error\" : \"\"}\r\n            onBlur={handleBlur}\r\n          />\r\n          {errors.email && touched.email && (\r\n            <span className=\"error-message\">{errors.email}</span>\r\n          )}\r\n        </div>\r\n        \r\n        <div>\r\n          <button type=\"submit\">Enviar</button>\r\n        </div>\r\n        <div className='wrapperList'>\r\n            <h5 style={{textAlign: 'center', margin:'20px 0 10px 0 ', padding: '0'}}>¿Ya estás registrado?</h5>\r\n            <Link to=\"/login\">Inicia sesión</Link>\r\n          </div>\r\n\r\n      </Form>\r\n          )\r\n        }}\r\n      </Formik>\r\n    </div>\r\n          \r\n  );\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}