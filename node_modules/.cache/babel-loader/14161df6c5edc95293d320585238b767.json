{"ast":null,"code":"import _slicedToArray from\"C:/Users/Valeria Rico/Documents/Alkemy/React II/Proyecto React II/Proyecto Avengers/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import*as Yup from\"yup\";import{Link}from\"react-router-dom\";import{useNavigate}from\"react-router-dom\";import axios from'axios';import{Formik,Form}from'formik';import\"../Auth.styles.css\";import logocompleto from'../../../../img/logocompleto.png';import{swal2}from\"../../../../utils/swal2.jsx\";import Swal from'sweetalert2';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var REACT_APP_API_ENDPOINT=process.env.REACT_APP_API_ENDPOINT;export var Register=function Register(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var navigate=useNavigate();useEffect(function(){axios.get(\"\".concat(REACT_APP_API_ENDPOINT,\"api/result\")).then(function(result){setData(result.data);});},[setData]);var required=\"*Campo obligatorio\";var registerSchema=function registerSchema(){return Yup.object().shape({userName:Yup.string().min(4,\"La cantidad mínima de caracteres es 4\").required(required),password:Yup.string().required(required).min(4,\"La contraseña debe tener más de 4 caracteres\"),email:Yup.string().email(\"Debe ser un email válido\").required(required)});};return/*#__PURE__*/_jsxs(\"div\",{className:\"auth\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"logo_completo flip-vertical-fwd\",src:logocompleto,alt:\"logo\"}),/*#__PURE__*/_jsx(Formik,{initialValues:{\"userName\":'',\"email\":'',\"password\":''},validationSchema:registerSchema,onSubmit:function onSubmit(values){var userName=values.userName,password=values.password,email=values.email;axios.post(\"\".concat(REACT_APP_API_ENDPOINT,\"api/register\"),{userName:userName,password:password,email:email}).then(function(response){if(response.status===200){swal2();navigate(\"/login\",{replace:true});}}).catch(function(error){Swal.fire({title:'Error!',text:'Verifique los datos',icon:'error',confirmButtonColor:'red'});});},children:function children(_ref){var errors=_ref.errors,touched=_ref.touched,handleSubmit=_ref.handleSubmit,handleBlur=_ref.handleBlur,handleChange=_ref.handleChange;return/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h1\",{style:{textAlign:'center'},children:\"Registro\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\xBFCu\\xE1l es tu nombre?\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"userName\",onChange:handleChange,className:errors.userName&&touched.userName?\"error\":\"\",onBlur:handleBlur,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Selecciona tu nombre...\"}),data===null||data===void 0?void 0:data.map(function(option,id){return/*#__PURE__*/_jsx(\"option\",{value:option.userName,children:option.userName},id);})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Contrase\\xF1a\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",onChange:handleChange,className:errors.password&&touched.password?\"error\":\"\",onBlur:handleBlur}),errors.password&&touched.password&&/*#__PURE__*/_jsx(\"span\",{className:\"error-message\",children:errors.password})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",onChange:handleChange,className:errors.email&&touched.email?\"error\":\"\",onBlur:handleBlur}),errors.email&&touched.email&&/*#__PURE__*/_jsx(\"span\",{className:\"error-message\",children:errors.email})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Enviar\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"wrapperList\",children:[/*#__PURE__*/_jsx(\"h5\",{style:{textAlign:'center',margin:'20px 0 10px 0 ',padding:'0'},children:\"\\xBFYa est\\xE1s registrado?\"}),/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Inicia sesi\\xF3n\"})]})]});}})]});};","map":{"version":3,"names":["React","useState","useEffect","Yup","Link","useNavigate","axios","Formik","Form","logocompleto","swal2","Swal","REACT_APP_API_ENDPOINT","process","env","Register","data","setData","navigate","get","then","result","required","registerSchema","object","shape","userName","string","min","password","email","values","post","response","status","replace","catch","error","fire","title","text","icon","confirmButtonColor","errors","touched","handleSubmit","handleBlur","handleChange","textAlign","map","option","id","margin","padding"],"sources":["C:/Users/Valeria Rico/Documents/Alkemy/React II/Proyecto React II/Proyecto Avengers/client/src/components/views/auth/Register/Register.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport * as Yup from \"yup\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useNavigate } from \"react-router-dom\"\r\nimport axios from 'axios';\r\nimport {Formik, Form} from 'formik';\r\n\r\n\r\nimport \"../Auth.styles.css\";\r\nimport logocompleto from '../../../../img/logocompleto.png'\r\nimport { swal2 } from \"../../../../utils/swal2.jsx\";\r\nimport Swal from 'sweetalert2';\r\n\r\n\r\nconst { REACT_APP_API_ENDPOINT } = process.env\r\n\r\nexport const Register = () => {\r\n  const [data, setData] = useState();\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    axios.get(`${REACT_APP_API_ENDPOINT}api/result`)\r\n    \r\n    .then((result) => {\r\n      setData(result.data)}\r\n  \r\n   \r\n    );\r\n  \r\n}, [setData]);\r\n\r\n  \r\n  const required = \"*Campo obligatorio\";\r\n\r\n  const registerSchema = () =>\r\n    Yup.object().shape({\r\n      userName: Yup.string()\r\n        .min(4, \"La cantidad mínima de caracteres es 4\")\r\n        .required(required),\r\n      password: Yup.string().required(required).min(4, \"La contraseña debe tener más de 4 caracteres\"),\r\n      email: Yup.string().email(\"Debe ser un email válido\").required(required),\r\n            \r\n    });\r\n\r\n  \r\n  return (\r\n    <div className=\"auth\">\r\n       <img className='logo_completo flip-vertical-fwd' src={logocompleto} alt='logo'></img>\r\n      <Formik \r\n          initialValues={{\r\n            \"userName\":'',\r\n            \"email\":'',\r\n            \"password\":''   \r\n               }}\r\n         validationSchema={registerSchema}\r\n\r\n           onSubmit={(values)=>{\r\n            const {userName, password, email} = values;\r\n\r\n            axios.post(`${REACT_APP_API_ENDPOINT}api/register`, {\r\n                       userName,\r\n                       password,\r\n                       email\r\n                    })\r\n                   .then((response)=>{\r\n                  \r\n                    if (response.status === 200) {\r\n                      swal2()\r\n                    navigate(\"/login\", { replace: true });\r\n                   }\r\n                  }\r\n                  \r\n                  )\r\n                  .catch(function(error){\r\n                    Swal.fire({\r\n                      title: 'Error!',\r\n                      text: 'Verifique los datos',\r\n                      icon: 'error',\r\n                      confirmButtonColor: 'red'\r\n                    })\r\n                 })\r\n                  \r\n\r\n           }}\r\n          \r\n\r\n           >\r\n    {({\r\n           \r\n           errors,\r\n           touched,\r\n           handleSubmit,\r\n           handleBlur,\r\n           handleChange\r\n           \r\n         \r\n        }) =>{\r\n          return(\r\n      <Form onSubmit={handleSubmit}>\r\n        <h1 style={{textAlign: 'center'}}>Registro</h1>\r\n        <div>\r\n          <label>¿Cuál es tu nombre?</label>\r\n          <select\r\n            name=\"userName\"\r\n            onChange={handleChange}\r\n            className={errors.userName && touched.userName ? \"error\" : \"\"}\r\n            onBlur={handleBlur}\r\n          >\r\n            <option value=\"\">Selecciona tu nombre...</option>\r\n            {data?.map((option, id) => {\r\n            return(\r\n                <option key={id} value={option.userName}>\r\n                {option.userName}\r\n              </option>)\r\n})}\r\n          </select>\r\n        </div>\r\n        <div>\r\n          <label>Contraseña</label>\r\n          <input\r\n            type=\"password\"\r\n            name=\"password\"\r\n            onChange={handleChange}\r\n            className={errors.password && touched.password ? \"error\" : \"\"}\r\n            onBlur={handleBlur}\r\n          />\r\n          {errors.password && touched.password && (\r\n            <span className=\"error-message\">{errors.password}</span>\r\n          )}\r\n        </div>\r\n\r\n        \r\n        <div>\r\n          <label>Email</label>\r\n          <input\r\n            type=\"email\"\r\n            name=\"email\"\r\n            onChange={handleChange}\r\n            className={errors.email && touched.email ? \"error\" : \"\"}\r\n            onBlur={handleBlur}\r\n          />\r\n          {errors.email && touched.email && (\r\n            <span className=\"error-message\">{errors.email}</span>\r\n          )}\r\n        </div>\r\n        \r\n        <div>\r\n          <button type=\"submit\">Enviar</button>\r\n        </div>\r\n        <div className='wrapperList'>\r\n            <h5 style={{textAlign: 'center', margin:'20px 0 10px 0 ', padding: '0'}}>¿Ya estás registrado?</h5>\r\n            <Link to=\"/login\">Inicia sesión</Link>\r\n          </div>\r\n\r\n      </Form>\r\n          )\r\n        }}\r\n      </Formik>\r\n    </div>\r\n          \r\n  );\r\n};\r\n"],"mappings":"gLAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAO,GAAKC,IAAZ,KAAqB,KAArB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAAQC,MAAR,CAAgBC,IAAhB,KAA2B,QAA3B,CAGA,MAAO,oBAAP,CACA,MAAOC,aAAP,KAAyB,kCAAzB,CACA,OAASC,KAAT,KAAsB,6BAAtB,CACA,MAAOC,KAAP,KAAiB,aAAjB,C,wFAGA,GAAQC,uBAAR,CAAmCC,OAAO,CAACC,GAA3C,CAAQF,sBAAR,CAEA,MAAO,IAAMG,SAAQ,CAAG,QAAXA,SAAW,EAAM,CAC5B,cAAwBd,QAAQ,EAAhC,wCAAOe,IAAP,eAAaC,OAAb,eACA,GAAMC,SAAQ,CAAGb,WAAW,EAA5B,CAEAH,SAAS,CAAC,UAAM,CACdI,KAAK,CAACa,GAAN,WAAaP,sBAAb,gBAECQ,IAFD,CAEM,SAACC,MAAD,CAAY,CAChBJ,OAAO,CAACI,MAAM,CAACL,IAAR,CAAP,CAAqB,CAHvB,EAQH,CATU,CASR,CAACC,OAAD,CATQ,CAAT,CAYA,GAAMK,SAAQ,CAAG,oBAAjB,CAEA,GAAMC,eAAc,CAAG,QAAjBA,eAAiB,SACrBpB,IAAG,CAACqB,MAAJ,GAAaC,KAAb,CAAmB,CACjBC,QAAQ,CAAEvB,GAAG,CAACwB,MAAJ,GACPC,GADO,CACH,CADG,CACA,uCADA,EAEPN,QAFO,CAEEA,QAFF,CADO,CAIjBO,QAAQ,CAAE1B,GAAG,CAACwB,MAAJ,GAAaL,QAAb,CAAsBA,QAAtB,EAAgCM,GAAhC,CAAoC,CAApC,CAAuC,8CAAvC,CAJO,CAKjBE,KAAK,CAAE3B,GAAG,CAACwB,MAAJ,GAAaG,KAAb,CAAmB,0BAAnB,EAA+CR,QAA/C,CAAwDA,QAAxD,CALU,CAAnB,CADqB,EAAvB,CAWA,mBACE,aAAK,SAAS,CAAC,MAAf,wBACG,YAAK,SAAS,CAAC,iCAAf,CAAiD,GAAG,CAAEb,YAAtD,CAAoE,GAAG,CAAC,MAAxE,EADH,cAEE,KAAC,MAAD,EACI,aAAa,CAAE,CACb,WAAW,EADE,CAEb,QAAQ,EAFK,CAGb,WAAW,EAHE,CADnB,CAMG,gBAAgB,CAAEc,cANrB,CAQK,QAAQ,CAAE,kBAACQ,MAAD,CAAU,CACnB,GAAOL,SAAP,CAAoCK,MAApC,CAAOL,QAAP,CAAiBG,QAAjB,CAAoCE,MAApC,CAAiBF,QAAjB,CAA2BC,KAA3B,CAAoCC,MAApC,CAA2BD,KAA3B,CAEAxB,KAAK,CAAC0B,IAAN,WAAcpB,sBAAd,iBAAoD,CACzCc,QAAQ,CAARA,QADyC,CAEzCG,QAAQ,CAARA,QAFyC,CAGzCC,KAAK,CAALA,KAHyC,CAApD,EAKQV,IALR,CAKa,SAACa,QAAD,CAAY,CAEjB,GAAIA,QAAQ,CAACC,MAAT,GAAoB,GAAxB,CAA6B,CAC3BxB,KAAK,GACPQ,QAAQ,CAAC,QAAD,CAAW,CAAEiB,OAAO,CAAE,IAAX,CAAX,CAAR,CACA,CACD,CAXP,EAcOC,KAdP,CAca,SAASC,KAAT,CAAe,CACpB1B,IAAI,CAAC2B,IAAL,CAAU,CACRC,KAAK,CAAE,QADC,CAERC,IAAI,CAAE,qBAFE,CAGRC,IAAI,CAAE,OAHE,CAIRC,kBAAkB,CAAE,KAJZ,CAAV,EAMF,CArBN,EAwBA,CAnCN,UAuCD,uBASQ,IAPFC,OAOE,MAPFA,MAOE,CANFC,OAME,MANFA,OAME,CALFC,YAKE,MALFA,YAKE,CAJFC,UAIE,MAJFA,UAIE,CAHFC,YAGE,MAHFA,YAGE,CACH,mBACJ,MAAC,IAAD,EAAM,QAAQ,CAAEF,YAAhB,wBACE,WAAI,KAAK,CAAE,CAACG,SAAS,CAAE,QAAZ,CAAX,sBADF,cAEE,oCACE,oDADF,cAEE,gBACE,IAAI,CAAC,UADP,CAEE,QAAQ,CAAED,YAFZ,CAGE,SAAS,CAAEJ,MAAM,CAACjB,QAAP,EAAmBkB,OAAO,CAAClB,QAA3B,CAAsC,OAAtC,CAAgD,EAH7D,CAIE,MAAM,CAAEoB,UAJV,wBAME,eAAQ,KAAK,CAAC,EAAd,qCANF,CAOG9B,IAPH,SAOGA,IAPH,iBAOGA,IAAI,CAAEiC,GAAN,CAAU,SAACC,MAAD,CAASC,EAAT,CAAgB,CAC3B,mBACI,eAAiB,KAAK,CAAED,MAAM,CAACxB,QAA/B,UACCwB,MAAM,CAACxB,QADR,EAAayB,EAAb,CADJ,CAIX,CALY,CAPH,GAFF,GAFF,cAmBE,oCACE,wCADF,cAEE,cACE,IAAI,CAAC,UADP,CAEE,IAAI,CAAC,UAFP,CAGE,QAAQ,CAAEJ,YAHZ,CAIE,SAAS,CAAEJ,MAAM,CAACd,QAAP,EAAmBe,OAAO,CAACf,QAA3B,CAAsC,OAAtC,CAAgD,EAJ7D,CAKE,MAAM,CAAEiB,UALV,EAFF,CASGH,MAAM,CAACd,QAAP,EAAmBe,OAAO,CAACf,QAA3B,eACC,aAAM,SAAS,CAAC,eAAhB,UAAiCc,MAAM,CAACd,QAAxC,EAVJ,GAnBF,cAkCE,oCACE,gCADF,cAEE,cACE,IAAI,CAAC,OADP,CAEE,IAAI,CAAC,OAFP,CAGE,QAAQ,CAAEkB,YAHZ,CAIE,SAAS,CAAEJ,MAAM,CAACb,KAAP,EAAgBc,OAAO,CAACd,KAAxB,CAAgC,OAAhC,CAA0C,EAJvD,CAKE,MAAM,CAAEgB,UALV,EAFF,CASGH,MAAM,CAACb,KAAP,EAAgBc,OAAO,CAACd,KAAxB,eACC,aAAM,SAAS,CAAC,eAAhB,UAAiCa,MAAM,CAACb,KAAxC,EAVJ,GAlCF,cAgDE,kCACE,eAAQ,IAAI,CAAC,QAAb,oBADF,EAhDF,cAmDE,aAAK,SAAS,CAAC,aAAf,wBACI,WAAI,KAAK,CAAE,CAACkB,SAAS,CAAE,QAAZ,CAAsBI,MAAM,CAAC,gBAA7B,CAA+CC,OAAO,CAAE,GAAxD,CAAX,yCADJ,cAEI,KAAC,IAAD,EAAM,EAAE,CAAC,QAAT,8BAFJ,GAnDF,GADI,CA2DD,CA5GH,EAFF,GADF,CAoHD,CAjJM"},"metadata":{},"sourceType":"module"}